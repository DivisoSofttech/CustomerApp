<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-title>
        <ion-img src="/assets/icon/favicon.png" class="icon-logo"></ion-img>
      </ion-title>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="search" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button (click)="notificationsModal()" >
        <ion-icon name="notifications" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <ion-item lines="none">
    <ion-button color="light" (click)="presentFilterModal()">
      <ion-icon name="options"></ion-icon>
    </ion-button>
  </ion-item> -->
  <div id="map_canvas">
  </div>
  <ion-slides #slides [options]="slideOpts" autoplayDisableOnInteraction = "false" (ionSlideDidChange)="slides.startAutoplay();">
    <ion-slide>
      <ion-card>
        <ion-img src="/assets/images/slides/slide-1.png"></ion-img>
      </ion-card>
    </ion-slide>
    <ion-slide>
      <ion-card>
        <ion-img src="/assets/images/slides/slide-2.png"></ion-img>
      </ion-card>
    </ion-slide>
    <ion-slide>
      <ion-card>
        <ion-img src="/assets/images/slides/slide-3.png"></ion-img>
      </ion-card>
    </ion-slide>
  </ion-slides>
  <h4 padding class="head">
    What's Nearby!
  </h4>
  <ion-card *ngFor="let store of stores">
    <ion-item lines="none">
      <ion-text slot="end" no-margin class="closedLabel" *ngIf="store.closingTime && store.openingTime">
          <p 
          *ngIf="now > getTimeFixed(store.closingTime.slice(11,16)) || now < getTimeFixed(store.openingTime.slice(11,16))">Closed</p>
          </ion-text>
      <ion-img *ngIf="store.image" [src]="'data:' + store.imageContentType + ';base64,' + store.image"
        class="imageShow">
      </ion-img>
      <ion-card-content *ngIf="store.regNo"  (click)="showHotelMenu(store.regNo)">
        <ion-card-title *ngIf="store.name">{{store.name}}</ion-card-title>
        <ion-card-subtitle *ngIf="store.openingTime">
          {{store.openingTime.slice(11,16) + ' to ' + store.closingTime.slice(11,16)}}</ion-card-subtitle>
        <ion-text><strong>500m</strong></ion-text>
      </ion-card-content>
    </ion-item>
      <ion-item>
        <ion-label text-center>
            <ion-text class="category" >{{categoryString(categories[store.regNo])}}  </ion-text>
        </ion-label>
      </ion-item>
    <div class="card-footer">
      <ion-row>
        <ion-col size="7">
          <rating [rate]="store.totalRating" [readonly]="true"></rating>
        </ion-col>
        <ion-col size="3">
          <ion-buttons>
            <ion-button *ngIf="store.userRatings"  disabled>{{'(' + store.userRatings.length + ')'}}</ion-button>
            <ion-button *ngIf="!store.userRatings"  disabled>(0)</ion-button>
            </ion-buttons>
        </ion-col>
        <ion-col size="2">
         <ion-buttons>
            <ion-button fill="none">
                <ion-icon slot="icon-only" name="heart-empty"></ion-icon>
            </ion-button>
         </ion-buttons>
        </ion-col>
      </ion-row>
    
    </div>
  </ion-card>
</ion-content>